<div class="top-rating-table-container">
  <h3 class="top-rating-table__title">{{ 'Videojuegos mejor valorados' }}</h3>
  <ui-input [(inputValue)]="searchValue" [placeholder]="'Ejemplo: Gran turismo 2'" (inputValueChange)="onSearchCriteriaChange()" />
  <div class="top-rating-table__wrapper">
    <table mat-table [dataSource]="games()" class="mat-elevation-z8">
      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef>Producto</th>
        <td mat-cell *matCellDef="let game">
          <div class="top-rating-table__cell__name">
            <img [src]="game.coverUrl" alt="{{ game.gameName }}" class="game-image" />
            <a [routerLink]="['products/' + game.id]" routerLinkActive="router-link-active" class="top-rating-table__cell__link">{{
              game.gameName
            }}</a>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="platform">
        <th mat-header-cell *matHeaderCellDef>Plataforma</th>
        <td mat-cell *matCellDef="let game">{{ game.platform }}</td>
      </ng-container>

      <ng-container matColumnDef="rating">
        <th mat-header-cell *matHeaderCellDef>Puntuación</th>
        <td mat-cell *matCellDef="let game">
          {{ game.rating }}
        </td>
      </ng-container>

      <ng-container matColumnDef="developer">
        <th mat-header-cell *matHeaderCellDef>Desarollador</th>
        <td mat-cell *matCellDef="let game">{{ game.developer }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Precio</th>
        <td mat-cell *matCellDef="let game">
          {{ game.price | currency: 'EUR' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="genre">
        <th mat-header-cell *matHeaderCellDef>Género</th>
        <td mat-cell *matCellDef="let game">{{ game.genre }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="DISPLAYED_COLUMNS; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: DISPLAYED_COLUMNS"></tr>
    </table>
  </div>
  <mat-paginator
    #topSalesPaginator
    [length]="totalGames()"
    (page)="onPageChange($event)"
    [pageSize]="25"
    [pageSizeOptions]="[25, 50, 100]"
    showFirstLastButtons
  ></mat-paginator>
</div>
